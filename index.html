<!doctype html> <html lang="en"> <head> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width,initial-scale=1" /> <title>Load Master â€” Simple Web App</title> <style> :root{ --bg:#f7fafc; --card:#fff; --accent:#f97316; --muted:#6b7280; --green:#16a34a; --red:#ef4444; --blue:#2563eb; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; } body{margin:0;background:var(--bg);color:#111;} header{background:var(--accent);color:#fff;padding:12px 16px;box-shadow:0 4px 10px rgba(0,0,0,.06)} .container{max-width:900px;margin:20px auto;padding:0 16px} .card{background:var(--card);border-radius:12px;padding:16px;box-shadow:0 6px 18px rgba(13,17,23,.06);border:1px solid rgba(15,23,42,.04)} h1{margin:0;font-size:20px;letter-spacing:1px} .muted{color:var(--muted);font-size:13px} .grid{display:grid;gap:12px} .trucks{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px} .truck-btn{display:flex;gap:12px;align-items:center;padding:12px;border-radius:10px;border:1px solid #eee;cursor:pointer;background:#fff} .truck-emoji{font-size:28px} label{font-size:12px;color:var(--muted);display:block;margin-bottom:6px;font-weight:600} input[type=number], input[type=text]{width:100%;padding:8px;border-radius:8px;border:1px solid #e5e7eb} .btn{display:inline-flex;gap:8px;align-items:center;padding:10px 14px;border-radius:10px;border:0;cursor:pointer} .btn-primary{background:var(--accent);color:#fff} .btn-ghost{background:#fff;color:var(--accent);border:1px solid rgba(249,115,22,.12)} .manifest-item{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;border:1px solid #f1f5f9} .status-good{background:linear-gradient(90deg,#10b981,#059669);color:#fff;padding:16px;border-radius:12px} .status-bad{background:linear-gradient(90deg,#f43f5e,#ef4444);color:#fff;padding:16px;border-radius:12px} .bar{height:10px;background:#e6e6e6;border-radius:999px;overflow:hidden} .bar > i{display:block;height:100%;background:var(--accent);width:0%} .small{font-size:12px;color:var(--muted)} footer{margin:30px 0 60px;text-align:center;color:var(--muted);font-size:13px} .flex{display:flex;gap:8px;align-items:center} .right{text-align:right} </style> </head> <body> <header> <div class="container" style="display:flex;justify-content:space-between;align-items:center"> <div style="display:flex;gap:12px;align-items:center"> <div style="font-size:22px">ðŸšš</div> <h1>LOAD MASTER</h1> </div> <div class="muted">Simple single-file app</div> </div> </header> <main class="container"> <div id="app"></div> </main> <footer class="container"><div class="small">If the page is blank, wait ~30s after creating the file or enable Pages in repo Settings â†’ Pages.</div></footer> <!-- Load React from CDN and use Babel to compile JSX in the browser (works for demo/publishing on Pages) --> <script src="https://unpkg.com/react@18/umd/react.development.js"></script> <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script> <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script> <script type="text/babel"> const { useState, useEffect } = React; const TRUCK_TYPES = [ { id: 10, name: 'Tata Ace', l:214,w:140,h:140,maxWeight:750, icon:'ðŸ˜'}, { id: 11, name: 'Dost', l:250,w:160,h:170,maxWeight:1250, icon:'ðŸšš'}, { id: 12, name: '12ft Box', l:365,w:200,h:200,maxWeight:2500, icon:'ðŸ“¦'}, { id: 13, name: '26ft Box', l:780,w:250,h:250,maxWeight:4500, icon:'ðŸš›'}, ]; function calculateGeometricMax(truck, box){ if(!truck || !box.l||!box.w||!box.h) return 0; const T = [truck.l, truck.w, truck.h]; const B = [parseFloat(box.l), parseFloat(box.w), parseFloat(box.h)]; const getGridCount=(t,b)=>Math.floor(t[0]/b[0])*Math.floor(t[1]/b[1])*Math.floor(t[2]/b[2]); const orientations=[[B[0],B[1],B[2]],[B[0],B[2],B[1]],[B[1],B[0],B[2]],[B[1],B[2],B[0]],[B[2],B[0],B[1]],[B[2],B[1],B[0]]]; let max=0; orientations.forEach(o=>{ const c=getGridCount(T,o); if(c>max)max=c; }); if(box.weight && truck.maxWeight){ const weightLimit=Math.floor(truck.maxWeight/parseFloat(box.weight)); return Math.min(max, weightLimit); } return max; } function calculateLoadStatus(truck, manifest){ if(!truck || manifest.length===0) return {fits:true, percentVol:0, percentWeight:0, msg:"Empty", totalWeight:0, estimatedFit:0, totalBoxes:0}; let totalWeight=0, totalBoxes=0; manifest.forEach(it=>{ totalBoxes+=parseInt(it.qty||0); totalWeight+= (parseFloat(it.weight||0)||0) * (parseInt(it.qty||0)||0); }); const percentWeight=(totalWeight/truck.maxWeight)*100; const first=manifest[0]; const uniform=manifest.every(it=>it.l===first.l && it.w===first.w && it.h===first.h && it.stackable===first.stackable); if(uniform){ const maxPossible=calculateGeometricMax(truck, first); if(percentWeight>100) return {fits:false,msg:'Overweight',percentWeight,mode:'Exact',totalWeight,reason:'Overweight',estimatedFit:Math.floor(truck.maxWeight/(first.weight||1)),totalBoxes}; if(totalBoxes>maxPossible) return {fits:false,msg:'Not Enough Space',percentVol:(totalBoxes/maxPossible)*100,estimatedFit:maxPossible,totalBoxes,mode:'Exact',totalWeight,reason:'Geometrically only '+maxPossible+' fit'}; return {fits:true,msg:'Fits',percentVol:(totalBoxes/maxPossible)*100,percentWeight,estimatedFit:maxPossible,totalBoxes,mode:'Exact',totalWeight}; } // mixed load -> simple volume estimation let usedVol=0; const truckVol=truck.l*truck.w*truck.h; manifest.forEach(it=>{ const qty=parseInt(it.qty||0)||0; const l=parseFloat(it.l)||0; const w=parseFloat(it.w)||0; const h=parseFloat(it.h)||0; usedVol += (it.stackable ? l*w*h : l*w*truck.h) * qty; }); const percentVol = (usedVol/(truckVol*0.9))*100; let fits=true,msg='Fits',reason='',estimatedFit=totalBoxes; if(percentWeight>100){ fits=false; msg='Overweight'; reason='Total weight exceeds limit'; } else if(percentVol>100){ fits=false; msg='Not Enough Space'; reason='Volume exceeds ~90% of truck'; } if(!fits){ const limiter=Math.max(percentWeight, percentVol); const ratio=100/limiter; estimatedFit=Math.floor(totalBoxes*ratio); } return {fits, percentVol, percentWeight, msg, totalWeight, reason, estimatedFit, totalBoxes, mode:'Volume'}; } function App(){ const [selectedTruck,setSelectedTruck]=useState(TRUCK_TYPES[0]); const [manifest,setManifest]=useState([]); const [box,setBox]=useState({name:'',l:'30',w:'20',h:'15',weight:'2',qty:1,stackable:true}); const [status,setStatus]=useState(null); useEffect(()=>{ setStatus(selectedTruck ? calculateLoadStatus(selectedTruck,manifest) : null); },[selectedTruck,manifest]); function addBox(e){ e.preventDefault(); setManifest(m=>[...m,{...box,id:Date.now()}]); } function removeBox(id){ setManifest(m=>m.filter(x=>x.id!==id)); } return ( <div className="grid" style={{gap:16}}> <div className="card"> <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}> <div> <div className="small">Select Truck</div> <div style={{display:'flex',gap:8,marginTop:8}} className="trucks"> {TRUCK_TYPES.map(t=>( <div key={t.id} className="truck-btn" onClick={()=>setSelectedTruck(t)} style={{borderColor: selectedTruck?.id===t.id?'#fde68a':'#eee'}}> <div className="truck-emoji">{t.icon}</div> <div> <div style={{fontWeight:700}}>{t.name}</div> <div className="muted small">{t.l}x{t.w}x{t.h} cm â€¢ {t.maxWeight} kg</div> </div> </div> ))} </div> </div> <div className="right small"> <div style={{fontWeight:700}}>{selectedTruck?.name}</div> <div className="muted">{selectedTruck?.l}x{selectedTruck?.w}x{selectedTruck?.h} cm</div> </div> </div> </div> <div className="card grid" style={{gridTemplateColumns:'1fr 360px'}}> <div> <form onSubmit={addBox} className="grid" style={{gap:8}}> <div style={{display:'flex',gap:8}}> <div style={{flex:1}}> <label>Name (optional)</label> <input value={box.name} onChange={e=>setBox({...box,name:e.target.value})} /> </div> <div style={{width:120}}> <label>Qty</label> <input type="number" min="1" value={box.qty} onChange={e=>setBox({...box,qty:parseInt(e.target.value||1)})} /> </div> </div> <div style={{display:'flex',gap:8}}> <div style={{flex:1}}> <label>Length (cm)</label> <input type="number" value={box.l} onChange={e=>setBox({...box,l:e.target.value})} /> </div> <div style={{flex:1}}> <label>Width (cm)</label> <input type="number" value={box.w} onChange={e=>setBox({...box,w:e.target.value})} /> </div> <div style={{flex:1}}> <label>Height (cm)</label> <input type="number" value={box.h} onChange={e=>setBox({...box,h:e.target.value})} /> </div> </div> <div style={{display:'flex',gap:8,alignItems:'end'}}> <div style={{flex:1}}> <label>Weight (kg) â€” optional</label> <input type="number" value={box.weight} onChange={e=>setBox({...box,weight:e.target.value})} /> </div> <div style={{width:160}}> <label>Stackable?</label> <div style={{display:'flex',alignItems:'center',gap:8}}> <input id="stack" type="checkbox" checked={box.stackable} onChange={e=>setBox({...box,stackable:e.target.checked})} /> <label htmlFor="stack" className="small">stackable</label> </div> </div> <div style={{width:140}}> <button className="btn btn-primary" type="submit">Add box</button> </div> </div> </form> <div style={{marginTop:12}}> <div className="small" style={{marginBottom:6}}>Manifest</div> <div style={{display:'grid',gap:8}}> {manifest.length===0 && <div className="muted small">No boxes yet</div>} {manifest.map((it,idx)=>( <div key={it.id} className="manifest-item"> <div style={{display:'flex',gap:10,alignItems:'center'}}> <div style={{background:'#fff3e0',padding:8,borderRadius:8,fontWeight:700}}>{idx+1}</div> <div> <div style={{fontWeight:700}}>{it.name||('Box '+(idx+1))} Ã— {it.qty}</div> <div className="muted small">{it.l}Ã—{it.w}Ã—{it.h} cm {it.weight? 'â€¢ '+it.weight+'kg':''} â€¢ {it.stackable?'Stackable':'No Stack'}</div> </div> </div> <div style={{display:'flex',gap:8,alignItems:'center'}}> <div className="small">Max if alone: {calculateGeometricMax(selectedTruck,it)}</div> <button className="btn" onClick={()=>removeBox(it.id)} style={{background:'#fff',border:'1px solid #fee2e2',color:'#ef4444'}}>Remove</button> </div> </div> ))} </div> </div> </div> <div> <div className="small" style={{marginBottom:8}}>Final Status</div> <div style={{marginBottom:10}}> {status ? ( status.fits ? ( <div className="status-good"> <div style={{fontWeight:800,fontSize:18}}>{status.msg}</div> <div className="small">{status.mode==='Exact' ? 'Exact geometric packing used' : 'Volume estimate used'}</div> </div> ) : ( <div className="status-bad"> <div style={{fontWeight:800,fontSize:18}}>{status.msg}</div> <div className="small">{status.reason}</div> <div style={{marginTop:8,fontWeight:700,fontSize:16}}>{status.estimatedFit} boxes fit</div> </div> ) ) : <div className="muted small">Choose truck and add boxes</div>} </div> <div style={{marginTop:12}}> <div className="small">Weight</div> <div style={{display:'flex',alignItems:'center',gap:8}}> <div style={{flex:1}} className="bar"><i style={{width: status ? Math.min(100,Math.round(status.percentWeight||0))+'%' : '0%'}}></i></div> <div style={{width:60,textAlign:'right',fontWeight:700}}>{status ? Math.round(status.percentWeight||0)+'%' : '0%'}</div> </div> <div className="small" style={{marginTop:8}}>Volume</div> <div style={{display:'flex',alignItems:'center',gap:8}}> <div style={{flex:1}} className="bar"><i style={{width: status ? Math.min(100,Math.round(status.percentVol||0))+'%' : '0%', background: '#3b82f6'}}></i></div> <div style={{width:60,textAlign:'right',fontWeight:700}}>{status ? Math.round(status.percentVol||0)+'%' : '0%'}</div> </div> </div> <div style={{marginTop:12,display:'flex',flexDirection:'column',gap:8}}> <button className="btn btn-primary" onClick={()=>alert('This page is static â€” use Add box then view status.')}>Re-Plan</button> <button className="btn btn-ghost" onClick={()=>{ setManifest([]); setBox({name:'',l:'30',w:'20',h:'15',weight:'2',qty:1,stackable:true}); }}>New Plan</button> </div> </div> </div> </div> ) } ReactDOM.createRoot(document.getElementById('app')).render(<App />); </script> </body> </html>
